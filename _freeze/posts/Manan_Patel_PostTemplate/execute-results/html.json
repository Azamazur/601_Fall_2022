{
  "hash": "1311dd5398c7bc70f2f6f1ac3fab956b",
  "result": {
    "markdown": "---\ntitle: \"Blog Post Template\"\nauthor: \"Manan Patel\"\ndesription: \"Something to describe what I did\"\ndate: \"08/02/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - hw1\n  - challenge1\n  - my name\n  - dataset\n  - ggplot2\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(lubridate)\nlibrary(readxl)\nlibrary(purrr)\nlibrary(dplyr)\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n\nknitr::opts_chunk$set(echo = TRUE)\n```\n:::\n\n\n# Description-\n\nLayoffs or the termination of employment for a large number of workers and have become increasingly common in recent years especially since the COVID-19 pandemic started. Layoffs are typically counted when more than 50 employees are let go from a company for a period of at least 31 days. The occurrence of layoffs can cause anxiety and paranoia among remaining employees, especially if they are struggling to meet their performance goals or arrive to work on time. According to recent statistics, a total of 17 million layoffs have been reported in the United States. In this article, we have collected and analyzed various data on layoffs in the US, including trends, demographics, and industry-specific information. We have also examined the details of these statistics in order to provide a thorough understanding of the layoff situation in the country.\n\nIn the United States, 40% of the population has experienced a layoff at least once in their career. In the past two years, 28% of Americans have reported being laid off from their company. In July 2022, 160 tech companies underwent layoffs. In 2022, there were a total of 2.12 million layoffs recorded in the business and professional services industry. In 2021, there were a total of 17 million layoffs recorded across all industries in the US. The trade and transportation industry saw 1.46 million layoffs between June 2021 and June 2022. Among adults between the ages of 18 and 34, 61% reported experiencing significant pressure and anxiety related to the possibility of being laid off. Women are 25% less likely to be laid off by companies compared to men. In the third quarter of 2022, 23,158 layoffs were recorded. A survey found that 46% of employees felt unprepared for layoffs and separations.\n\nTech companies around the world are struggling to deal with the economic downturn. A combination of factors such as reduced consumer spending, increased interest rates from central banks, and a strong US dollar has raised concerns about the possibility of a recession. In response to these challenges, some tech firms have started laying off employees. For example, Meta recently laid off 13% of its workforce, which is over 11,000 people. This data set was created in an effort to allow the Kaggle community to analyze the current challenges facing the tech industry and potentially uncover useful insights.\n\n## **Reading the Dataset-**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# data frame\ndf <- read.csv(\"_data/layoffs.csv\")\nhead(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n   company      location  industry total_laid_off percentage_laid_off\n1  Vedantu     Bengaluru Education            385                  NA\n2    Plaid   SF Bay Area   Finance            260                0.20\n3   Grover        Berlin    Retail             40                0.10\n4 CircleCI   SF Bay Area   Product             NA                0.17\n5     Doma   SF Bay Area   Finance            515                0.40\n6 BuzzFeed New York City     Media            180                0.12\n        date    stage       country funds_raised\n1 2022-12-07 Series E         India          292\n2 2022-12-07 Series D United States          734\n3 2022-12-07  Unknown United States         2300\n4 2022-12-07 Series F United States          315\n5 2022-12-06      IPO United States          679\n6 2022-12-06      IPO United States          696\n```\n:::\n:::\n\n\n## The columns in this datasets are described as follows-\n\n1.  \"company\" - This column refers to the name of the company that has experienced a layoff.\n\n2.  \"location\" - This column refers to the location of the layoff, which could be a city, state, or region.\n\n3.  \"industry\" - This column refers to the industry in which the company operates, such as tech, healthcare, or finance.\n\n4.  \"total_laid_off\" - This column refers to the total number of employees who were laid off by the company.\n\n5.  \"percentage_laid_off\" - This column refers to the percentage of the company's workforce that was laid off.\n\n6.  \"date\" - This column refers to the date on which the layoff occurred.\n\n7.  \"stage\" - This column refers to the stage of funding that the company was in at the time of the layoff. This could be early-stage, late-stage, or publicly traded.\n\n8.  \"country\" - This column refers to the name of the country in which the company is located.\n\n9.  \"funds_raised\" - This column refers to the amount of funds that the company had raised, in millions of dollars, prior to the layoff. This information could be relevant in understanding the financial situation of the company at the time of the layoff.\n\n## Some Research Questions-\n\n\\\nA list of the top 10 companies that have laid off employees.\n\n1.  The top 3 companies that have laid off employees on a yearly basis.\n\n2.  The top 3 locations where the most layoffs have occurred on a yearly basis.\n\n3.  A list of the top 20 companies that have laid off a specific percentage of their employees.\n\n4.  The top 10 countries where the most layoffs have occurred.\n\n5.  The top 10 locations in the United States where the most layoffs have occurred.\n\n6.  The locations in India where the most layoffs have occurred.\n\n7.  The relationship between funds received and layoffs.\n\n8.  The stage of a company's development at which the most layoffs have occurred.\n\n9.  The industry that has experienced the most layoffs.\n\n10. The total number of layoffs on a yearly basis.\n\n11. The number of layoffs that have occurred on a yearly basis according to country.\n\nLet's see the last\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get the last six rows of df\ntail(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n           company       location       industry total_laid_off\n1747       Service    Los Angeles         Travel             NA\n1748  HopSkipDrive    Los Angeles Transportation              8\n1749   Panda Squad    SF Bay Area       Consumer              6\n1750 Tamara Mellon    Los Angeles         Retail             20\n1751      EasyPost Salt Lake City      Logistics             75\n1752     Homebound    SF Bay Area    Real Estate             NA\n     percentage_laid_off       date    stage       country funds_raised\n1747                1.00 2020-03-16     Seed United States          5.1\n1748                0.10 2020-03-13  Unknown United States         45.0\n1749                0.75 2020-03-13     Seed United States          1.0\n1750                0.40 2020-03-12 Series C United States         90.0\n1751                  NA 2020-03-11 Series A United States         12.0\n1752                  NA             Unknown United States        128.0\n```\n:::\n:::\n\n\nGet the class of each column in df\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsapply(df, class)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            company            location            industry      total_laid_off \n        \"character\"         \"character\"         \"character\"           \"integer\" \npercentage_laid_off                date               stage             country \n          \"numeric\"         \"character\"         \"character\"         \"character\" \n       funds_raised \n          \"numeric\" \n```\n:::\n:::\n\n\n## **Checking for all possible NA and cleaning up the datasets**\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Use sapply to apply a lambda function to each column in the df data frame\nmissing_counts <- sapply(df, function(x) {\n  # Within the lambda function, we will use the sum and is.na functions to count the number of missing values in x\n  sum(is.na(x))\n})\n# then finally we will print the resulting vector of missing value counts\nmissing_counts\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            company            location            industry      total_laid_off \n                  0                   0                   0                 520 \npercentage_laid_off                date               stage             country \n                576                   0                   0                   0 \n       funds_raised \n                130 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Use the drop_na function to remove rows with missing values from the df\ndf <- df %>% drop_na()\n# Using sapply to apply a lambda function to each column in the df\nmissing_counts <- sapply(df, function(x) {\n# Within the lambda function, use the sum and is.na functions to count the number of missing values in x\n  sum(is.na(x))\n})\n# then finally we will print the resulting vector of missing value counts\nmissing_counts\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            company            location            industry      total_laid_off \n                  0                   0                   0                   0 \npercentage_laid_off                date               stage             country \n                  0                   0                   0                   0 \n       funds_raised \n                  0 \n```\n:::\n:::\n\n\nLet's convert character columns to factor columns in df-\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- df %>% mutate_if(is.character,as.factor)\nglimpse(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 859\nColumns: 9\n$ company             <fct> Plaid, Grover, Doma, BuzzFeed, Chipper Cash, Stash…\n$ location            <fct> SF Bay Area, Berlin, SF Bay Area, New York City, S…\n$ industry            <fct> Finance, Retail, Finance, Media, Finance, Finance,…\n$ total_laid_off      <int> 260, 40, 515, 180, 50, 32, 20, 65, 30, 47, 110, 10…\n$ percentage_laid_off <dbl> 0.200, 0.100, 0.400, 0.120, 0.125, 0.080, 0.080, 0…\n$ date                <fct> 2022-12-07, 2022-12-07, 2022-12-06, 2022-12-06, 20…\n$ stage               <fct> Series D, Unknown, IPO, IPO, Series C, Unknown, Se…\n$ country             <fct> United States, United States, United States, Unite…\n$ funds_raised        <dbl> 734, 2300, 679, 696, 302, 480, 165, 265, 103, 184,…\n```\n:::\n:::\n\n\nNow we will count the number of unique values in the company column of df-\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn_distinct(df$company)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 762\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert the date column to a year column and a month column\ndf$yrs <- strftime(df$date,'%Y') %>% as.factor()  # extract year from date and convert to a factor\ndf$mnt <- strftime(df$date,'%m') %>% as.factor()  # extract month from date and convert to a factor\n```\n:::\n\n\nNow let's see the mean, median, and standard deviation of total_laid_off.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#mean will calculates the average  \nmean(df$total_laid_off)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 218.8068\n```\n:::\n\n```{.r .cell-code}\n#median will calculates the median\nmedian(df$total_laid_off)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 75\n```\n:::\n\n```{.r .cell-code}\n#sd will calculates the standard deviation\nsd(df$total_laid_off)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 641.0096\n```\n:::\n:::\n\n\n## **Setup figure size**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nfig <- function(width, height) {\n  # Set the width and height options for the plot\n  options(repr.plot.width = width, repr.plot.height = height)\n}\n# Call it\nfig(20, 10)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# we will group the data here by country and year, and summarize the mean total_laid_off for each group\ndf_summarized <- df %>%\n  group_by(country, yrs) %>%\n  summarize(avgLayoffs = round(mean(total_laid_off), 0)) %>%\n  # now we will sort the data by avgLayoffs in descending order\n  arrange(desc(avgLayoffs)) %>%\n  head(3)\n# create a bar plot of the avgLayoffs\nbarplot(df_summarized$avgLayoffs, names.arg = df_summarized$country, main = \"\", xlab = \"\", ylab = \"\")\n```\n\n::: {.cell-output-display}\n![](Manan_Patel_PostTemplate_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get the number of unique values in the 'location' column\nprint(length(unique(df$location)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 99\n```\n:::\n\n```{.r .cell-code}\n# Get the unique values in the 'location' column\nunique(df$location)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] SF Bay Area     Berlin          New York City   Tel Aviv       \n [5] Boston          Burlington      Singapore       Los Angeles    \n [9] Jakarta         Sacramento      Buenos Aires    Bengaluru      \n[13] London          Melbourne       Sao Paulo       Waterloo       \n[17] Lagos           Dubai           Gurugram        Phoenix        \n[21] Gothenburg      Toronto         Dublin          Seattle        \n[25] Nairobi         Dover           Hamburg         San Diego      \n[29] Logan           Tallin          Lehi            Columbus       \n[33] Nebraska City   Copenhagen      Vancouver       Oslo           \n[37] Stockholm       Pittsburgh      Montreal        San Luis Obispo\n[41] Jerusalem       Austin          New Delhi       Belo Horizonte \n[45] Chicago         Salt Lake City  Bangkok         Raleigh        \n[49] Portland        Bristol         Washington D.C. Indianapolis   \n[53] Stamford        Curitiba        Mumbai          Boulder        \n[57] Sydney          Detroit         Ottawa          Ferdericton    \n[61] Dakar           Florianópolis   Philadelphia    Hong Kong      \n[65] Beijing         Vienna          Atlanta         Dallas         \n[69] Spokane         Chennai         Reno            Helsinki       \n[73] Malmo           Kuala Lumpur    Bend            Mexico City    \n[77] Cincinnati      Miami           Moscow          Shanghai       \n[81] Non-U.S.        Nashville       Las Vegas       Edinburgh      \n[85] Madison         Amsterdam       Santa Fe        Denver         \n[89] Ahmedabad       Joinville       Zurich          Missoula       \n[93] Minneapolis     Guadalajara     Blumenau        Milwaukee      \n[97] Ann Arbor       Lisbon          Munich         \n99 Levels: Ahmedabad Amsterdam Ann Arbor Atlanta Austin Bangkok ... Zurich\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Get the number of unique values in the 'industry' column\nprint(length(unique(df$industry)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 28\n```\n:::\n\n```{.r .cell-code}\n# Get the unique values in the 'industry' column\nunique(df$industry)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] Finance        Retail         Media          Security                     \n [6] Marketing      Food           Crypto         Education      Other         \n[11] Consumer       Transportation Healthcare     Infrastructure Data          \n[16] Sales          Fitness        Real Estate    Support        Logistics     \n[21] Recruiting     Construction   HR             Product        Aerospace     \n[26] Legal          Travel         Energy        \n28 Levels:  Aerospace Construction Consumer Crypto Data Education ... Travel\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nunique(df$stage)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] Series D       Unknown        IPO            Series C       Series E      \n [6] Series B       Private Equity Series A       Series J       Series F      \n[11] Acquired       Series H       Series G       Seed           Series I      \n15 Levels: Acquired IPO Private Equity Seed Series A Series B ... Unknown\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Total how many unique countries are there in the dataset\nunique(df$country)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] United States        Israel               Singapore           \n [4] Indonesia            Argentina            India               \n [7] United Kingdom       Australia            Germany             \n[10] Brazil               Canada               Nigeria             \n[13] Sweden               Ireland              Kenya               \n[16] Estonia              Norway               Denmark             \n[19] Thailand             Senegal              Hong Kong           \n[22] China                United Arab Emirates Austria             \n[25] Finland              Malaysia             Mexico              \n[28] Russia               Seychelles           Netherlands         \n[31] Switzerland          Portugal            \n32 Levels: Argentina Australia Austria Brazil Canada China Denmark ... United States\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Total how many unique companies are there in the dataset\nlength(unique(df$company))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 762\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Convert the 'date' column to a date data type\ndf$date <- as.Date(df$date)\n\n# Extract the month and year from the 'date' column\ndf$month <- month(df$date)\ndf$year <- year(df$date)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Select rows that are duplicates\nduplicate_rows <- df[duplicated(df),]\n\n# Remove duplicate rows from the data frame\ndf <- df[!duplicated(df),]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf$stage <- ifelse(is.na(df$stage), \"Unknown\", df$stage)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolSums(is.na(df))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            company            location            industry      total_laid_off \n                  0                   0                   0                   0 \npercentage_laid_off                date               stage             country \n                  0                   0                   0                   0 \n       funds_raised                 yrs                 mnt               month \n                  0                   0                   0                   0 \n               year \n                  0 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n     company             location             industry   total_laid_off   \n Uber    :  4   SF Bay Area  :236   Finance       :124   Min.   :    3.0  \n Doma    :  3   New York City:101   Retail        : 72   1st Qu.:   35.0  \n Glossier:  3   Boston       : 40   Marketing     : 61   Median :   75.0  \n Intercom:  3   Los Angeles  : 34   Healthcare    : 60   Mean   :  218.2  \n Katerra :  3   Seattle      : 32   Transportation: 58   3rd Qu.:  160.0  \n Latch   :  3   Bengaluru    : 31   Food          : 50   Max.   :11000.0  \n (Other) :839   (Other)      :384   (Other)       :433                    \n percentage_laid_off      date                stage                 country   \n Min.   :0.0000      Min.   :2020-03-12   Min.   : 1.000   United States:561  \n 1st Qu.:0.1000      1st Qu.:2020-05-03   1st Qu.: 5.000   India        : 55  \n Median :0.1700      Median :2022-06-02   Median : 7.000   Canada       : 48  \n Mean   :0.2377      Mean   :2021-09-16   Mean   : 7.096   Brazil       : 34  \n 3rd Qu.:0.3000      3rd Qu.:2022-08-15   3rd Qu.: 9.000   Israel       : 28  \n Max.   :1.0000      Max.   :2022-12-07   Max.   :15.000   Germany      : 27  \n                                                           (Other)      :105  \n  funds_raised         yrs           mnt          month             year     \n Min.   :     0.00   2020:331   04     :164   Min.   : 1.000   Min.   :2020  \n 1st Qu.:    51.25   2021: 13   06     :140   1st Qu.: 4.000   1st Qu.:2020  \n Median :   153.50   2022:514   05     :110   Median : 6.000   Median :2022  \n Mean   :   880.37              11     :101   Mean   : 6.501   Mean   :2021  \n 3rd Qu.:   425.25              07     : 84   3rd Qu.: 8.000   3rd Qu.:2022  \n Max.   :121900.00              08     : 73   Max.   :12.000   Max.   :2022  \n                                (Other):186                                  \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nsubset(df, percentage_laid_off == 1)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n                company      location       industry total_laid_off\n58  Deliveroo Australia     Melbourne           Food            120\n89             Planetly        Berlin          Other            200\n112        Fifth Season    Pittsburgh           Food            100\n137            Playdots New York City       Consumer             65\n163          Kitty Hawk   SF Bay Area      Aerospace            100\n181        Simple Feast    Copenhagen           Food            150\n199               Reali   SF Bay Area    Real Estate            140\n256              Metigy        Sydney      Marketing             75\n273              Soluto      Tel Aviv        Support            120\n306  Butler Hospitality New York City           Food           1000\n327         WanderJaunt   SF Bay Area         Travel             85\n331           Crejo.Fun     Bengaluru      Education            170\n375           SummerBio   SF Bay Area     Healthcare            101\n415         The Grommet        Boston         Retail             40\n436               Udayy      Gurugram      Education            100\n458         BeyondMinds      Tel Aviv           Data             65\n482                SEND        Sydney           Food            300\n493               Ahead   SF Bay Area     Healthcare             44\n521             Katerra   SF Bay Area   Construction           2434\n525               Hubba       Toronto         Retail             45\n527          Pocketmath     Singapore      Marketing             21\n531    Bridge Connector     Nashville     Healthcare            154\n543               Eatsy     Singapore           Food             20\n546   Buy.com / Rakuten   SF Bay Area         Retail             87\n562                Dark   SF Bay Area        Product              6\n594            Bluprint        Denver      Education            137\n600         Stay Alfred       Spokane         Travel            221\n615               Deliv   SF Bay Area         Retail            669\n625                Jump New York City Transportation            500\n670          TutorMundi     Sao Paulo      Education              4\n722                Atsu       Seattle Infrastructure              6\n816             Amplero       Seattle      Marketing             17\n820                HOOQ     Singapore       Consumer            250\n834         Consider.co   SF Bay Area          Other             13\n856            Help.com        Austin        Support             16\n    percentage_laid_off       date stage       country funds_raised  yrs mnt\n58                    1 2022-11-15     2     Australia    1700.0000 2022  11\n89                    1 2022-11-04     1       Germany       5.0000 2022  11\n112                   1 2022-10-28     6 United States      35.0000 2022  10\n137                   1 2022-10-13     1 United States      10.0000 2022  10\n163                   1 2022-09-21    15 United States       1.0000 2022  09\n181                   1 2022-09-07    15       Denmark     173.0000 2022  09\n199                   1 2022-08-24     6 United States     117.0000 2022  08\n256                   1 2022-07-31     6     Australia      18.0000 2022  07\n273                   1 2022-07-24     1        Israel      18.0000 2022  07\n306                   1 2022-07-08     6 United States      50.0000 2022  07\n327                   1 2022-07-01     6 United States      26.0000 2022  07\n331                   1 2022-06-30     4         India       3.0000 2022  06\n375                   1 2022-06-20    15 United States       7.0000 2022  06\n415                   1 2022-06-09     1 United States       5.0000 2022  06\n436                   1 2022-06-01     4         India       2.0000 2022  06\n458                   1 2022-05-23     5        Israel      16.0000 2022  05\n482                   1 2022-05-04     4     Australia       3.0000 2022  05\n493                   1 2022-04-14    15 United States       9.0000 2022  04\n521                   1 2021-06-01    15 United States    1600.0000 2021  06\n525                   1 2021-02-01     6        Canada      61.0000 2021  02\n527                   1 2021-01-20    15     Singapore      20.0000 2021  01\n531                   1 2020-11-17     6 United States      45.0000 2020  11\n543                   1 2020-08-08     4     Singapore       0.9755 2020  08\n546                   1 2020-07-30     1 United States      42.4000 2020  07\n562                   1 2020-06-23     4 United States       3.0000 2020  06\n594                   1 2020-05-26     1 United States     108.0000 2020  05\n600                   1 2020-05-20     6 United States      62.0000 2020  05\n615                   1 2020-05-13     7 United States      80.0000 2020  05\n625                   1 2020-05-07     1 United States      11.0000 2020  05\n670                   1 2020-04-24     5        Brazil       2.0000 2020  04\n722                   1 2020-04-10    15 United States       1.0000 2020  04\n816                   1 2020-03-29     6 United States      25.0000 2020  03\n820                   1 2020-03-27    15     Singapore      95.0000 2020  03\n834                   1 2020-03-26     4 United States       5.0000 2020  03\n856                   1 2020-03-16     4 United States       6.0000 2020  03\n    month year\n58     11 2022\n89     11 2022\n112    10 2022\n137    10 2022\n163     9 2022\n181     9 2022\n199     8 2022\n256     7 2022\n273     7 2022\n306     7 2022\n327     7 2022\n331     6 2022\n375     6 2022\n415     6 2022\n436     6 2022\n458     5 2022\n482     5 2022\n493     4 2022\n521     6 2021\n525     2 2021\n527     1 2021\n531    11 2020\n543     8 2020\n546     7 2020\n562     6 2020\n594     5 2020\n600     5 2020\n615     5 2020\n625     5 2020\n670     4 2020\n722     4 2020\n816     3 2020\n820     3 2020\n834     3 2020\n856     3 2020\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(df, 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  company    location industry total_laid_off percentage_laid_off       date\n1   Plaid SF Bay Area  Finance            260                 0.2 2022-12-07\n2  Grover      Berlin   Retail             40                 0.1 2022-12-07\n  stage       country funds_raised  yrs mnt month year\n1     8 United States          734 2022  12    12 2022\n2    15 United States         2300 2022  12    12 2022\n```\n:::\n\n```{.r .cell-code}\ncolSums(is.na(df))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            company            location            industry      total_laid_off \n                  0                   0                   0                   0 \npercentage_laid_off                date               stage             country \n                  0                   0                   0                   0 \n       funds_raised                 yrs                 mnt               month \n                  0                   0                   0                   0 \n               year \n                  0 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 858  13\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf[df$company == \"Lyft\", ]\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n    company    location       industry total_laid_off percentage_laid_off\n93     Lyft SF Bay Area Transportation            700                0.13\n283    Lyft SF Bay Area Transportation             60                0.02\n650    Lyft SF Bay Area Transportation            982                0.17\n          date stage       country funds_raised  yrs mnt month year\n93  2022-11-03     2 United States         4900 2022  11    11 2022\n283 2022-07-20     2 United States         4900 2022  07     7 2022\n650 2020-04-29     2 United States         4900 2020  04     4 2020\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nhead(df, n = 2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  company    location industry total_laid_off percentage_laid_off       date\n1   Plaid SF Bay Area  Finance            260                 0.2 2022-12-07\n2  Grover      Berlin   Retail             40                 0.1 2022-12-07\n  stage       country funds_raised  yrs mnt month year\n1     8 United States          734 2022  12    12 2022\n2    15 United States         2300 2022  12    12 2022\n```\n:::\n\n```{.r .cell-code}\ncolSums(is.na(df))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            company            location            industry      total_laid_off \n                  0                   0                   0                   0 \npercentage_laid_off                date               stage             country \n                  0                   0                   0                   0 \n       funds_raised                 yrs                 mnt               month \n                  0                   0                   0                   0 \n               year \n                  0 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- df %>% drop_na()\ndf %>% sapply(function(x)sum(is.na(x)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n            company            location            industry      total_laid_off \n                  0                   0                   0                   0 \npercentage_laid_off                date               stage             country \n                  0                   0                   0                   0 \n       funds_raised                 yrs                 mnt               month \n                  0                   0                   0                   0 \n               year \n                  0 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- df %>% mutate_if(is.character,as.factor)\nglimpse(df)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 858\nColumns: 13\n$ company             <fct> Plaid, Grover, Doma, BuzzFeed, Chipper Cash, Stash…\n$ location            <fct> SF Bay Area, Berlin, SF Bay Area, New York City, S…\n$ industry            <fct> Finance, Retail, Finance, Media, Finance, Finance,…\n$ total_laid_off      <int> 260, 40, 515, 180, 50, 32, 20, 65, 30, 47, 110, 10…\n$ percentage_laid_off <dbl> 0.200, 0.100, 0.400, 0.120, 0.125, 0.080, 0.080, 0…\n$ date                <date> 2022-12-07, 2022-12-07, 2022-12-06, 2022-12-06, 2…\n$ stage               <int> 8, 15, 2, 2, 7, 15, 7, 9, 6, 7, 3, 9, 2, 15, 8, 6,…\n$ country             <fct> United States, United States, United States, Unite…\n$ funds_raised        <dbl> 734, 2300, 679, 696, 302, 480, 165, 265, 103, 184,…\n$ yrs                 <fct> 2022, 2022, 2022, 2022, 2022, 2022, 2022, 2022, 20…\n$ mnt                 <fct> 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 11…\n$ month               <dbl> 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 11…\n$ year                <dbl> 2022, 2022, 2022, 2022, 2022, 2022, 2022, 2022, 20…\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf$yrs <- strftime(df$date,'%Y') %>% as.factor()\ndf$mnt <- strftime(df$date,'%m') %>% as.factor()\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nfig <- function(width,height){\n    options(repr.plot.width=width,repr.plot.height=height)\n}\nfig(20,10)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# select the top 5 rows of the data frame based on the values in the \"total_laid_off\" column\ntop_companies <- top_n(df, 5, total_laid_off)\n```\n:::\n\n\n# Visualization-\n\n\n::: {.cell}\n\n```{.r .cell-code}\npar(bg = \"lightgray\")\n# group the data by country and count the number of unique companies\nlayoff_by_country <- df %>% group_by(country) %>% summarize(no_of_companies = n_distinct(company)) %>%\n  arrange(desc(no_of_companies)) %>% head(10)\n\n# create the bar plot using barplot\nbarplot(layoff_by_country$no_of_companies, main = \"Number of Companies Undertook Lay Offs by Country\",\n        xlab = \"Country\", ylab = \"Number of Companies\", col = \"green\",\n        names.arg = layoff_by_country$country, las = 2)\n```\n\n::: {.cell-output-display}\n![](Manan_Patel_PostTemplate_files/figure-html/unnamed-chunk-33-1.png){width=672}\n:::\n:::\n\n\nThis code first groups the data by country and counts the number of unique companies in each group. It then arranges the resulting data frame in descending order based on the number of companies and selects the top 10 rows. Finally, it creates a bar plot using the barplot function, with the number of companies on the y-axis and the country on the x-axis. The plot is titled Number of Companies Undertook Lay Offs by Country.\n\nIn the dataset, there is a company based in the United States that laid off 11,000 employees, which is the highest number of layoffs for any company in the dataset. The size of layoffs is very high in both the United States and India, but surprisingly, it is very low in China which is not even in top 10 compared to the United States and India.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npar(bg = \"lightgray\")\n# group the data by location and count the number of unique companies\nlayoff_by_city <- df %>% group_by(location) %>% summarize(no_of_companies = n_distinct(company)) %>%\n  arrange(desc(no_of_companies)) %>% head(15)\n\n# create the bar plot using barplot\nbarplot(layoff_by_city$no_of_companies, main = \"Number of Companies Undertook Lay Offs in the big Cities\",\n        xlab = \"City\", ylab = \"Number of Companies\", col = \"red\",\n        names.arg = layoff_by_city$location, las = 2, cex.names = 0.8)\n\n# add the number of companies to each bar using the text function\ntext(x = 1:length(layoff_by_city$no_of_companies), y = layoff_by_city$no_of_companies,\n     labels = layoff_by_city$no_of_companies, pos = 3.9, cex = 0.8)\n```\n\n::: {.cell-output-display}\n![](Manan_Patel_PostTemplate_files/figure-html/unnamed-chunk-34-1.png){width=672}\n:::\n:::\n\n\nThis code first groups the data by location and counts the number of unique companies in each group. It then arranges the resulting data frame in descending order based on the number of companies and selects the top 20 rows. Finally, it creates a bar plot using the barplot function, with the number of companies on the y-axis and the location (city) on the x-axis. The plot is titled Number of Companies Undertook Lay Offs in the big Cities.\n\nThe San Francisco Bay Area (also known as Silicon Valley), New York City, and Bengalore are all renowned tech hubs that have seen significant numbers of layoffs in recent times. These cities are known for their high concentration of technology companies and are often considered the centers of innovation and growth in the tech industry. However, economic downturns and other factors can lead to layoffs in these areas, resulting in a reduction of the tech workforce in these cities. Now, If we closely observe then we won't see any small cities in this list which says that all the big city area has high layoffs than smaller cities.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntop_industry_wise <- df %>%\n  group_by(industry) %>%\n  summarise(total_laid_off = sum(total_laid_off)) %>%\n  arrange(desc(total_laid_off))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndim(top_industry_wise)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 28  2\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\npar(bg = \"lightgray\")\ncolors <- c(\"red\", \"blue\", \"green\", \"yellow\", \"orange\")\nbarplot(top_industry_wise$total_laid_off, names.arg = top_industry_wise$industry,\n        xlab = \"Industry\", ylab = \"Layoffs\", main = \"Industry vs Layoffs\", col = colors)\n```\n\n::: {.cell-output-display}\n![](Manan_Patel_PostTemplate_files/figure-html/unnamed-chunk-37-1.png){width=672}\n:::\n:::\n\n\nThe layoffs had a notable effect on three specific industries: transportation, consumer, and retail. These industries were likely negatively impacted by the layoffs in some way such as a decrease in business or financial losses.\n\n# Further plans-\n\nI plan to improve the visualizations for the dataset in order to provide a clearer understanding of the data for the viewer and to facilitate my own research by answering any remaining questions I might have. This will involve adding additional visualizations to the existing set. This way it will also improve the visualizations for my final project.\n\n# Conclusion-\n\nDespite the significant changes and challenges brought about by the coronavirus pandemic, tech companies continue to prioritize engineering talent in their outbound recruitment efforts. It is possible that the pandemic has even intensified this trend, as startups may be focusing more on product development and less on sales and customer success due to slowed customer growth. Previous analysis has shown that tech layoffs have disproportionately affected sales and customer success roles. As a result, tech companies may be able to redirect their resources towards product development initiatives, leading to a sustained demand for engineers.\n",
    "supporting": [
      "Manan_Patel_PostTemplate_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}