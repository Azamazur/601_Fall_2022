{
  "hash": "8ada9dfa9c3957d1b4b0afdb6cfacb70",
  "result": {
    "markdown": "---\ntitle: \"Challenge 2\"\nauthor: \"Dane Shelton\"\ndesription: \"Data wrangling: using group() and summarise()\"\ndate: \"09/28/2022\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - challenge_2\n  - hotel_bookings\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n## Challenge Overview\n\n### Tasks:\n\n1.) Read in dataset and describe the data, where did it come from? What could it be used for? What are the variables and for how many observations are complete with all values?\n\n2.) Use group_by() and other functions to find interesting statistics within groupings.\n\n## Task 1: Reading in Hotel Bookings Data\n\nRead in one (or more) of the following data sets, available in the `posts/_data` folder, using the correct R package and command.\n\n-   hotel_bookings.csv ⭐⭐⭐⭐\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n[1] 4\n```\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 1234501 1234568 1234580 1235061\n```\n:::\n:::\n\n\nI used dplyr package `readr` to read in the .csv file via the `read_csv` function. I checked for missing values, and once realizing that only 4 of over 100,000 bookings had missing values, I simply omitted the observations with missing values. \n\n## Task 2: Provide a Description of the Hotel Bookings Data\n\n### Describing the Data using summarytools\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\nData Frame Summary  \nhotels  \nDimensions: 119386 x 32  \nDuplicates: 31994  \n\n-----------------------------------------------------------------------------------------------------------------------------------\nNo   Variable                         Stats / Values             Freqs (% of Valid)     Graph                  Valid      Missing  \n---- -------------------------------- -------------------------- ---------------------- ---------------------- ---------- ---------\n1    hotel                            1. City Hotel              79326 (66.4%)          IIIIIIIIIIIII          119386     0        \n     [character]                      2. Resort Hotel            40060 (33.6%)          IIIIII                 (100.0%)   (0.0%)   \n\n2    is_canceled                      Min  : 0                   0 : 75166 (63.0%)      IIIIIIIIIIII           119386     0        \n     [numeric]                        Mean : 0.4                 1 : 44220 (37.0%)      IIIIIII                (100.0%)   (0.0%)   \n                                      Max  : 1                                                                                     \n\n3    lead_time                        Mean (sd) : 104 (106.9)    479 distinct values    :                      119386     0        \n     [numeric]                        min < med < max:                                  :                      (100.0%)   (0.0%)   \n                                      0 < 69 < 737                                      :                                          \n                                      IQR (CV) : 142 (1)                                : : .                                      \n                                                                                        : : : . .                                  \n\n4    arrival_date_year                Mean (sd) : 2016.2 (0.7)   2015 : 21992 (18.4%)   III                    119386     0        \n     [numeric]                        min < med < max:           2016 : 56707 (47.5%)   IIIIIIIII              (100.0%)   (0.0%)   \n                                      2015 < 2016 < 2017         2017 : 40687 (34.1%)   IIIIII                                     \n                                      IQR (CV) : 1 (0)                                                                             \n\n5    arrival_date_month               1. August                  13873 (11.6%)          II                     119386     0        \n     [character]                      2. July                    12661 (10.6%)          II                     (100.0%)   (0.0%)   \n                                      3. May                     11791 ( 9.9%)          I                                          \n                                      4. October                 11160 ( 9.3%)          I                                          \n                                      5. April                   11089 ( 9.3%)          I                                          \n                                      6. June                    10939 ( 9.2%)          I                                          \n                                      7. September               10508 ( 8.8%)          I                                          \n                                      8. March                    9794 ( 8.2%)          I                                          \n                                      9. February                 8068 ( 6.8%)          I                                          \n                                      10. November                6794 ( 5.7%)          I                                          \n                                      [ 2 others ]               12709 (10.6%)          II                                         \n\n6    arrival_date_week_number         Mean (sd) : 27.2 (13.6)    53 distinct values           . : . . .        119386     0        \n     [numeric]                        min < med < max:                                    . : : : : : :        (100.0%)   (0.0%)   \n                                      1 < 28 < 53                                       . : : : : : : : : :                        \n                                      IQR (CV) : 22 (0.5)                               : : : : : : : : : :                        \n                                                                                        : : : : : : : : : :                        \n\n7    arrival_date_day_of_month        Mean (sd) : 15.8 (8.8)     31 distinct values     :                      119386     0        \n     [numeric]                        min < med < max:                                  : : : . : : . : :      (100.0%)   (0.0%)   \n                                      1 < 16 < 31                                       : : : : : : : : : :                        \n                                      IQR (CV) : 15 (0.6)                               : : : : : : : : : :                        \n                                                                                        : : : : : : : : : :                        \n\n8    stays_in_weekend_nights          Mean (sd) : 0.9 (1)        17 distinct values     :                      119386     0        \n     [numeric]                        min < med < max:                                  :                      (100.0%)   (0.0%)   \n                                      0 < 1 < 19                                        :                                          \n                                      IQR (CV) : 2 (1.1)                                : :                                        \n                                                                                        : :                                        \n\n9    stays_in_week_nights             Mean (sd) : 2.5 (1.9)      35 distinct values     :                      119386     0        \n     [numeric]                        min < med < max:                                  :                      (100.0%)   (0.0%)   \n                                      0 < 2 < 50                                        :                                          \n                                      IQR (CV) : 2 (0.8)                                :                                          \n                                                                                        :                                          \n\n10   adults                           Mean (sd) : 1.9 (0.6)      14 distinct values     :                      119386     0        \n     [numeric]                        min < med < max:                                  :                      (100.0%)   (0.0%)   \n                                      0 < 2 < 55                                        :                                          \n                                      IQR (CV) : 0 (0.3)                                :                                          \n                                                                                        :                                          \n\n11   children                         Mean (sd) : 0.1 (0.4)      0 : 110796 (92.8%)     IIIIIIIIIIIIIIIIII     119386     0        \n     [numeric]                        min < med < max:           1 :   4861 ( 4.1%)                            (100.0%)   (0.0%)   \n                                      0 < 0 < 10                 2 :   3652 ( 3.1%)                                                \n                                      IQR (CV) : 0 (3.8)         3 :     76 ( 0.1%)                                                \n                                                                 10 :      1 ( 0.0%)                                               \n\n12   babies                           Mean (sd) : 0 (0.1)        0 : 118469 (99.2%)     IIIIIIIIIIIIIIIIIII    119386     0        \n     [numeric]                        min < med < max:           1 :    900 ( 0.8%)                            (100.0%)   (0.0%)   \n                                      0 < 0 < 10                 2 :     15 ( 0.0%)                                                \n                                      IQR (CV) : 0 (12.3)        9 :      1 ( 0.0%)                                                \n                                                                 10 :      1 ( 0.0%)                                               \n\n13   meal                             1. BB                      92306 (77.3%)          IIIIIIIIIIIIIII        119386     0        \n     [character]                      2. FB                        798 ( 0.7%)                                 (100.0%)   (0.0%)   \n                                      3. HB                      14463 (12.1%)          II                                         \n                                      4. SC                      10650 ( 8.9%)          I                                          \n                                      5. Undefined                1169 ( 1.0%)                                                     \n\n14   country                          1. PRT                     48586 (40.7%)          IIIIIIII               119386     0        \n     [character]                      2. GBR                     12129 (10.2%)          II                     (100.0%)   (0.0%)   \n                                      3. FRA                     10415 ( 8.7%)          I                                          \n                                      4. ESP                      8568 ( 7.2%)          I                                          \n                                      5. DEU                      7287 ( 6.1%)          I                                          \n                                      6. ITA                      3766 ( 3.2%)                                                     \n                                      7. IRL                      3375 ( 2.8%)                                                     \n                                      8. BEL                      2342 ( 2.0%)                                                     \n                                      9. BRA                      2224 ( 1.9%)                                                     \n                                      10. NLD                     2104 ( 1.8%)                                                     \n                                      [ 168 others ]             18590 (15.6%)          III                                        \n\n15   market_segment                   1. Aviation                  237 ( 0.2%)                                 119386     0        \n     [character]                      2. Complementary             743 ( 0.6%)                                 (100.0%)   (0.0%)   \n                                      3. Corporate                5295 ( 4.4%)                                                     \n                                      4. Direct                  12605 (10.6%)          II                                         \n                                      5. Groups                  19811 (16.6%)          III                                        \n                                      6. Offline TA/TO           24219 (20.3%)          IIII                                       \n                                      7. Online TA               56476 (47.3%)          IIIIIIIII                                  \n\n16   distribution_channel             1. Corporate                6677 ( 5.6%)          I                      119386     0        \n     [character]                      2. Direct                  14645 (12.3%)          II                     (100.0%)   (0.0%)   \n                                      3. GDS                       193 ( 0.2%)                                                     \n                                      4. TA/TO                   97870 (82.0%)          IIIIIIIIIIIIIIII                           \n                                      5. Undefined                   1 ( 0.0%)                                                     \n\n17   is_repeated_guest                Min  : 0                   0 : 115576 (96.8%)     IIIIIIIIIIIIIIIIIII    119386     0        \n     [numeric]                        Mean : 0                   1 :   3810 ( 3.2%)                            (100.0%)   (0.0%)   \n                                      Max  : 1                                                                                     \n\n18   previous_cancellations           Mean (sd) : 0.1 (0.8)      15 distinct values     :                      119386     0        \n     [numeric]                        min < med < max:                                  :                      (100.0%)   (0.0%)   \n                                      0 < 0 < 26                                        :                                          \n                                      IQR (CV) : 0 (9.7)                                :                                          \n                                                                                        :                                          \n\n19   previous_bookings_not_canceled   Mean (sd) : 0.1 (1.5)      73 distinct values     :                      119386     0        \n     [numeric]                        min < med < max:                                  :                      (100.0%)   (0.0%)   \n                                      0 < 0 < 72                                        :                                          \n                                      IQR (CV) : 0 (10.9)                               :                                          \n                                                                                        :                                          \n\n20   reserved_room_type               1. A                       85994 (72.0%)          IIIIIIIIIIIIII         119386     0        \n     [character]                      2. B                        1114 ( 0.9%)                                 (100.0%)   (0.0%)   \n                                      3. C                         932 ( 0.8%)                                                     \n                                      4. D                       19201 (16.1%)          III                                        \n                                      5. E                        6535 ( 5.5%)          I                                          \n                                      6. F                        2897 ( 2.4%)                                                     \n                                      7. G                        2094 ( 1.8%)                                                     \n                                      8. H                         601 ( 0.5%)                                                     \n                                      9. L                           6 ( 0.0%)                                                     \n                                      10. P                         12 ( 0.0%)                                                     \n\n21   assigned_room_type               1. A                       74053 (62.0%)          IIIIIIIIIIII           119386     0        \n     [character]                      2. D                       25322 (21.2%)          IIII                   (100.0%)   (0.0%)   \n                                      3. E                        7806 ( 6.5%)          I                                          \n                                      4. F                        3751 ( 3.1%)                                                     \n                                      5. G                        2553 ( 2.1%)                                                     \n                                      6. C                        2375 ( 2.0%)                                                     \n                                      7. B                        2159 ( 1.8%)                                                     \n                                      8. H                         712 ( 0.6%)                                                     \n                                      9. I                         363 ( 0.3%)                                                     \n                                      10. K                        279 ( 0.2%)                                                     \n                                      [ 2 others ]                  13 ( 0.0%)                                                     \n\n22   booking_changes                  Mean (sd) : 0.2 (0.7)      21 distinct values     :                      119386     0        \n     [numeric]                        min < med < max:                                  :                      (100.0%)   (0.0%)   \n                                      0 < 0 < 21                                        :                                          \n                                      IQR (CV) : 0 (2.9)                                :                                          \n                                                                                        :                                          \n\n23   deposit_type                     1. No Deposit              104637 (87.6%)         IIIIIIIIIIIIIIIII      119386     0        \n     [character]                      2. Non Refund               14587 (12.2%)         II                     (100.0%)   (0.0%)   \n                                      3. Refundable                 162 ( 0.1%)                                                    \n\n24   agent                            1. 9                       31960 (26.8%)          IIIII                  119386     0        \n     [character]                      2. NULL                    16338 (13.7%)          II                     (100.0%)   (0.0%)   \n                                      3. 240                     13922 (11.7%)          II                                         \n                                      4. 1                        7191 ( 6.0%)          I                                          \n                                      5. 14                       3639 ( 3.0%)                                                     \n                                      6. 7                        3539 ( 3.0%)                                                     \n                                      7. 6                        3290 ( 2.8%)                                                     \n                                      8. 250                      2870 ( 2.4%)                                                     \n                                      9. 241                      1721 ( 1.4%)                                                     \n                                      10. 28                      1666 ( 1.4%)                                                     \n                                      [ 324 others ]             33250 (27.9%)          IIIII                                      \n\n25   company                          1. NULL                    112589 (94.3%)         IIIIIIIIIIIIIIIIII     119386     0        \n     [character]                      2. 40                         927 ( 0.8%)                                (100.0%)   (0.0%)   \n                                      3. 223                        784 ( 0.7%)                                                    \n                                      4. 67                         267 ( 0.2%)                                                    \n                                      5. 45                         250 ( 0.2%)                                                    \n                                      6. 153                        215 ( 0.2%)                                                    \n                                      7. 174                        149 ( 0.1%)                                                    \n                                      8. 219                        141 ( 0.1%)                                                    \n                                      9. 281                        138 ( 0.1%)                                                    \n                                      10. 154                       133 ( 0.1%)                                                    \n                                      [ 343 others ]               3793 ( 3.2%)                                                    \n\n26   days_in_waiting_list             Mean (sd) : 2.3 (17.6)     128 distinct values    :                      119386     0        \n     [numeric]                        min < med < max:                                  :                      (100.0%)   (0.0%)   \n                                      0 < 0 < 391                                       :                                          \n                                      IQR (CV) : 0 (7.6)                                :                                          \n                                                                                        :                                          \n\n27   customer_type                    1. Contract                 4076 ( 3.4%)                                 119386     0        \n     [character]                      2. Group                     577 ( 0.5%)                                 (100.0%)   (0.0%)   \n                                      3. Transient               89613 (75.1%)          IIIIIIIIIIIIIII                            \n                                      4. Transient-Party         25120 (21.0%)          IIII                                       \n\n28   adr                              Mean (sd) : 101.8 (50.5)   8879 distinct values   :                      119386     0        \n     [numeric]                        min < med < max:                                  :                      (100.0%)   (0.0%)   \n                                      -6.4 < 94.6 < 5400                                :                                          \n                                      IQR (CV) : 56.7 (0.5)                             :                                          \n                                                                                        :                                          \n\n29   required_car_parking_spaces      Mean (sd) : 0.1 (0.2)      0 : 111970 (93.8%)     IIIIIIIIIIIIIIIIII     119386     0        \n     [numeric]                        min < med < max:           1 :   7383 ( 6.2%)     I                      (100.0%)   (0.0%)   \n                                      0 < 0 < 8                  2 :     28 ( 0.0%)                                                \n                                      IQR (CV) : 0 (3.9)         3 :      3 ( 0.0%)                                                \n                                                                 8 :      2 ( 0.0%)                                                \n\n30   total_of_special_requests        Mean (sd) : 0.6 (0.8)      0 : 70318 (58.9%)      IIIIIIIIIII            119386     0        \n     [numeric]                        min < med < max:           1 : 33223 (27.8%)      IIIII                  (100.0%)   (0.0%)   \n                                      0 < 0 < 5                  2 : 12968 (10.9%)      II                                         \n                                      IQR (CV) : 1 (1.4)         3 :  2497 ( 2.1%)                                                 \n                                                                 4 :   340 ( 0.3%)                                                 \n                                                                 5 :    40 ( 0.0%)                                                 \n\n31   reservation_status               1. Canceled                43013 (36.0%)          IIIIIII                119386     0        \n     [character]                      2. Check-Out               75166 (63.0%)          IIIIIIIIIIII           (100.0%)   (0.0%)   \n                                      3. No-Show                  1207 ( 1.0%)                                                     \n\n32   reservation_status_date          min : 2014-10-17           926 distinct values            . : : : :      119386     0        \n     [Date]                           med : 2016-08-07                                        : : : : : : .    (100.0%)   (0.0%)   \n                                      max : 2017-09-14                                      . : : : : : : :                        \n                                      range : 2y 10m 28d                                    : : : : : : : :                        \n                                                                                        .   : : : : : : : :                        \n-----------------------------------------------------------------------------------------------------------------------------------\n```\n:::\n:::\n\n\nThe data provides the entirety of a hotels booking records from October 2014 to September 2017. It documents arrivals from July 2015 to August 2017. After removing the 4 hotel bookings that were incomplete, I was left with 119386 observations with values for 32 variables both numeric and character in type. \n\nObservations contain standard booking information that would be collected by a hotel from guests: Arrival/Departure dates, Hotel types, Room types, Guests (and children), Previous stays, Parking, Travel Agent, Meals. More interestingly, the data further describes guests using their Origin country, Stay Type, Company, and Market sector (of company). \n\nIn the next section, I will use `group_by()`, `select()`, `filter()`, and `summarise()` to further explore the data and find out some interesting relations.\n\n## Provide Grouped Summary Statistics\n\nConduct some exploratory data analysis, using dplyr commands such as `group_by()`, `select()`, `filter()`, and `summarise()`. Find the central tendency (mean, median, mode) and dispersion (standard deviation, mix/max/quantile) for different subgroups within the data set.\n\n\n::: {.cell}\n\n:::\n\n\n### Explain and Interpret\n\nBe sure to explain why you choose a specific group. Comment on the interpretation of any interesting differences between groups that you uncover. This section can be integrated with the exploratory data analysis, just be sure it is included.\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}